<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>情感分析</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">
    <link rel="stylesheet" href="../static/css/typography.css">
    <link rel="stylesheet" href="../static/css/stylesearch.css">
    <link rel="stylesheet" href="../static/css/responsive.css">
    <link rel="stylesheet" href="../static/css/asidenav1.css">
    <script src="https://www.jq22.com/jquery/jquery-1.10.2.js"></script>
    <script src="../static/js/popper.min.js"></script>
    <script src="../static/js/bootstrap.min.js"></script>
    <script src="../static/js/jquery.appear.js"></script>
    <script src="../static/js/countdown.min.js"></script>
      <!-- Counterup JavaScript -->
    <script src="../static/js/waypoints.min.js"></script>
    <script src="../static/js/jquery.counterup.min.js"></script>
    <script src="../static/js/wow.min.js"></script>
      <!-- Slick JavaScript -->
      <script src="../static/js/slick.min.js"></script>
      <!-- Select2 JavaScript -->
      <script src="../static/js/select2.min.js"></script>
      <!-- Owl Carousel JavaScript -->
      <script src="../static/js/owl.carousel.min.js"></script>
      <!-- Magnific Popup JavaScript -->
      <script src="../static/js/jquery.magnific-popup.min.js"></script>
      <!-- Smooth Scrollbar JavaScript -->
      <script src="../static/js/smooth-scrollbar.js"></script>
      <!-- Chart Custom JavaScript -->
      <script src="../static/js/chart-custom.js"></script>
      <!-- Custom JavaScript -->
      <script src="../static/js/custom.js"></script>

        <script src="../static/js/echarts.js"></script>
        <script>
            $(window).load(function() {
                $("#loading").fadeOut(500);
            })
    </script>
        <script>
            //加载动画效果
            function showLoad(){
                      $('#loading').show();
                  }
                  //隐藏动画效果
            function hiddenLoad(){
                        $("#loading").fadeOut(500);
                      $('#loading').hide();
                  }
            function sentimentsearch(){
                var sentence_search=document.getElementById("sentence_search").value
                var sentimentdata = echarts.init(document.getElementById("sentimentana"));
                var keywordsenti=echarts.init(document.getElementById("keyword-result"));
                $.ajax({
                    async:true,
                    type:"GET",
                    url:"/wordssentimentfun",
                    contentType: "application/json;charset=utf-8",
                    data:{"sentence":sentence_search},
                    beforeSend: function (){
                      //ajax刷新前加载load动画
                      showLoad();
                  },
                    success:function(data){
                        $("#loading").fadeOut(500);
                        alert("成功");
                        $("#pos").html(data['sentiment_dic'][0].pos)
                        $("#neg").html(data['sentiment_dic'][0].neg)
                        $("#pflag").html(data['sentiment_dic'][0].label)
                        $("#score").html(data['databert'][0].pred)
                        $("#threshold").html(data['databert'][0].threshold)
                        $("#flag").html(data['bertlabel'])
                        const symbols = [
  'path://M620.470857 54.893714l3.291429 0.073143a18.285714 18.285714 0 0 1 16.091428 20.224l-1.828571 17.408c-3.145143 30.756571-6.363429 70.546286-9.618286 117.394286l-4.534857 68.973714-3.364571 56.539429-4.644572 85.723428c-0.182857 3.291429-0.402286 6.326857-0.658286 9.398857-5.266286 24.32-8.521143 52.662857-10.020571 84.114286a1106.029714 1106.029714 0 0 0 3.510857 143.469714l2.304 24.32 2.157714 18.761143a18.285714 18.285714 0 0 1-0.987428 8.777143c-7.936 21.284571-11.776 60.123429-11.849143 110.445714-0.036571 30.427429 1.243429 63.195429 3.474286 95.890286l1.536 21.357714 1.901714 21.284572a18.285714 18.285714 0 0 1-7.606857 16.749714c-20.736 14.738286-45.238857 23.625143-72.557714 27.574857-33.060571 4.754286-67.876571 2.084571-101.668572-5.156571a273.188571 273.188571 0 0 1-29.001143-7.68 18.285714 18.285714 0 1 1 11.776-34.596572l5.888 1.828572c4.790857 1.353143 11.227429 3.035429 19.017143 4.681143 29.915429 6.436571 60.635429 8.777143 88.758857 4.717714a138.788571 138.788571 0 0 0 42.422857-12.653714l5.522286-3.072-1.718857-21.357715-0.768-11.190857a1449.545143 1449.545143 0 0 1-3.547429-98.450285c0.073143-50.285714 3.657143-90.038857 11.958858-116.699429l0.621714-2.011429-0.914286-7.899428c-1.097143-9.691429-2.157714-20.626286-3.181714-32.548572a1141.174857 1141.174857 0 0 1-3.584-148.297142c1.572571-33.353143 5.083429-63.597714 10.386286-87.113143l3.364571-63.780572 3.291429-57.197714c1.097143-18.944 2.267429-37.668571 3.437714-55.954286l3.766857-55.515428c3.657143-50.358857 7.204571-91.940571 10.642286-122.331429a18.285714 18.285714 0 0 1 16.932571-16.201143zM395.702857 164.681143a18.285714 18.285714 0 0 1 20.114286 16.274286 957.147429 957.147429 0 0 1 0 198.546285l-2.56 21.394286 1.828571 8.850286c1.828571 9.362286 3.620571 19.894857 5.302857 31.341714 6.582857 44.8 9.508571 90.477714 6.582858 133.485714a376.685714 376.685714 0 0 1-6.656 50.834286 18.285714 18.285714 0 0 1-35.84-7.387429c2.962286-14.262857 4.937143-29.622857 6.034285-45.897142 2.669714-40.045714-0.073143-83.273143-6.326857-125.696-1.060571-7.314286-2.194286-14.153143-3.291428-20.516572l-3.949715-19.968-0.292571-6.473143c9.289143-71.204571 10.24-143.286857 2.779428-214.710857a18.285714 18.285714 0 0 1 16.310858-20.114286zM423.570286 400.384c38.4-16.384 78.372571-22.052571 116.662857-10.166857a139.702857 139.702857 0 0 1 57.856 35.730286 18.285714 18.285714 0 0 1-25.892572 25.819428 103.168 103.168 0 0 0-42.861714-26.624c-28.635429-8.923429-60.306286-4.388571-91.428571 8.886857-11.922286 5.12-20.772571 10.130286-25.344 13.238857a18.285714 18.285714 0 0 1-20.553143-30.244571l6.546286-4.132571a218.697143 218.697143 0 0 1 25.014857-12.507429zM574.793143 679.753143a18.285714 18.285714 0 1 1 20.699428 30.208c-63.561143 43.52-115.2 48.713143-152.868571 29.257143a64.585143 64.585143 0 0 1-17.042286-12.068572 18.285714 18.285714 0 0 1 24.100572-27.355428l2.450285 2.194285c0.658286 0.694857 3.108571 2.596571 7.277715 4.754286 25.234286 13.019429 62.537143 9.216 115.382857-26.989714zM212.626286 128.219429c-17.664-1.024-39.972571 0.914286-65.901715 8.118857-38.765714 10.825143-76.909714 31.524571-112.310857 64.365714-3.657143 3.401143-7.314286 6.948571-10.861714 10.569143a18.285714 18.285714 0 0 0-2.340571 22.747428l7.753142 12.507429 5.412572 9.142857 3.035428 5.193143c12.288 21.211429 24.576 44.178286 36.059429 68.022857 15.213714 31.670857 27.794286 62.390857 36.717714 91.172572 6.802286 21.906286 11.410286 42.203429 13.531429 60.562285l2.340571 7.168 11.410286 20.114286 6.436571 11.776c13.458286 24.795429 26.916571 50.980571 39.460572 77.421714 9.362286 19.785143 17.883429 38.948571 25.307428 57.197715 13.458286 33.097143 22.930286 62.171429 27.611429 85.979428l1.792 5.046857 6.838857 13.238857a1781.394286 1781.394286 0 0 1 39.058286 81.846858c5.851429 13.238857 11.337143 26.038857 16.274286 38.363428l7.058285 18.139429c15.433143 41.033143 23.222857 72.411429 21.321143 88.393143a18.285714 18.285714 0 0 0 18.176 20.406857l7.826286-0.219429c6.144-0.329143 13.970286-0.987429 23.04-2.194286a281.965714 281.965714 0 0 0 67.072-17.042285c36.205714-14.409143 65.024-36.205714 83.017143-66.925715a18.285714 18.285714 0 0 0 0.365714-17.883428l-11.812571-22.857143-2.742858-5.412571c-10.971429-21.833143-21.942857-44.763429-32.109714-67.657143-6.217143-13.970286-11.958857-27.465143-17.188571-40.411429-17.188571-42.934857-27.355429-77.385143-28.416-98.962286a18.285714 18.285714 0 0 0-2.413715-8.228571l-8.045714-14.592a1313.353143 1313.353143 0 0 1-46.262857-94.354286 906.971429 906.971429 0 0 1-33.426286-86.601143 494.153143 494.153143 0 0 1-15.433143-58.916571l-1.938285-5.485714-9.618286-17.92a1581.348571 1581.348571 0 0 1-38.729143-79.652572 1019.684571 1019.684571 0 0 1-21.394286-51.2l-3.730285-9.874285c-14.372571-39.021714-22.308571-70.948571-22.308572-92.672h-3.657143l-2.852571-3.291429c-6.948571-7.533714-13.238857-10.532571-18.285714-10.532571l-0.548572 0.036571 4.315429-3.657143c0.914286-0.731429 1.133714-0.731429 1.462857-0.768l1.353143-0.109714-1.718857-0.109714z m-15.469715 36.498285l0.731429 5.632c3.730286 25.526857 12.909714 56.429714 26.587429 91.977143 6.509714 17.005714 13.933714 34.742857 22.162285 53.028572 7.241143 16.164571 14.811429 32.182857 22.491429 47.798857l14.518857 28.672 11.300571 21.394285-0.585142-2.962285c3.730286 19.748571 9.289143 40.886857 16.530285 63.305143 9.252571 28.745143 21.028571 59.026286 34.742857 90.185142 12.288 27.794286 25.380571 54.784 38.509715 79.908572l8.704 16.457143 6.838857 12.397714-0.365714-4.571429c1.353143 26.770286 12.434286 64.292571 31.012571 110.811429 5.376 13.348571 11.337143 27.282286 17.700571 41.654857 6.948571 15.616 14.262857 31.268571 21.686858 46.555429l13.970285 28.16 7.094857 13.897143-3.657142 4.827428c-13.531429 16.457143-32.548571 29.147429-55.917715 38.436572a246.125714 246.125714 0 0 1-58.331428 14.738285l-8.192 0.950857-0.292572-2.998857c-3.218286-25.453714-13.787429-58.953143-30.208-99.84-5.12-12.726857-10.715429-25.965714-16.749714-39.570285a1652.882286 1652.882286 0 0 0-21.321143-46.08l-16.274286-32.950858-8.265142-16.018285 0.585142 2.706285c-5.229714-26.441143-15.36-57.6-29.622857-92.672-7.68-18.944-16.457143-38.729143-26.148571-59.099428a1642.971429 1642.971429 0 0 0-40.338286-79.213714l-16.603428-29.805715 0.585142 4.022857a370.541714 370.541714 0 0 0-14.921142-67.254857A715.117714 715.117714 0 0 0 106.422857 313.051429a1046.710857 1046.710857 0 0 0-37.339428-70.473143l-9.216-15.579429-0.621715 0.585143c31.085714-28.781714 64-46.701714 97.28-55.954286a189.44 189.44 0 0 1 36.571429-6.656l4.059428-0.219428zM184.649143 423.314286c47.140571-29.220571 96.950857-44.470857 146.907428-37.778286a18.285714 18.285714 0 0 1-4.827428 36.205714c-40.228571-5.376-82.249143 7.497143-122.843429 32.658286a301.897143 301.897143 0 0 0-33.024 23.698286l-6.070857 5.12a133.485714 133.485714 0 0 0-5.632 5.193143 18.285714 18.285714 0 1 1-25.746286-25.965715l4.242286-3.986285a338.212571 338.212571 0 0 1 46.994286-35.145143zM425.142857 646.217143a18.285714 18.285714 0 0 1 27.428572 24.137143c-48.932571 55.698286-122.843429 84.918857-198.144 78.482285a18.285714 18.285714 0 0 1 3.145142-36.425142c63.780571 5.449143 126.317714-19.309714 167.570286-66.194286zM477.988571 72.192c-63.634286 50.249143-101.156571 110.08-76.324571 142.116571 24.978286 32.256 91.721143 9.728 155.392-40.594285 63.561143-50.285714 101.12-110.08 76.288-142.153143-24.137143-31.122286-87.149714-11.190857-148.772571 35.510857l-6.582858 5.12z m22.674286 28.708571c48.274286-38.217143 97.645714-54.857143 103.789714-46.921142 6.326857 8.155429-21.650286 52.736-70.070857 91.026285-48.347429 38.217143-97.645714 54.857143-103.826285 46.921143-6.034286-7.826286 19.273143-48.932571 63.890285-86.016l6.217143-5.010286zM96.914286 622.08c43.044571-17.627429 87.917714-21.357714 127.634285-17.261714l9.252572 1.133714 1.938286 0.329143a18.285714 18.285714 0 1 1-6.509715 35.986286l-8.411428-1.097143c-34.267429-3.510857-73.398857-0.256-110.006857 14.738285-17.408 7.168-33.28 16.713143-47.323429 28.891429l-1.316571 1.170286 3.291428 2.633143 6.509714 4.534857c39.168 25.526857 96.621714 29.769143 177.152-2.852572a18.285714 18.285714 0 1 1 13.750858 33.865143c-91.355429 37.046857-161.389714 31.853714-210.870858-0.365714-15.433143-10.020571-25.380571-20.370286-30.573714-28.013714a18.285714 18.285714 0 0 1 1.682286-22.601143A204.068571 204.068571 0 0 1 96.914286 622.08zM168.155429 717.421714a18.285714 18.285714 0 1 1 23.515428 28.013715l-7.241143 6.656a265.142857 265.142857 0 0 0-25.088 28.16c-19.419429 25.453714-30.793143 50.761143-31.341714 74.24l0.073143 3.474285 0.731428-0.109714a168.96 168.96 0 0 0 11.337143-2.340571l6.4-1.645715a198.326857 198.326857 0 0 0 75.008-40.045714 251.245714 251.245714 0 0 0 55.222857-66.962286 18.285714 18.285714 0 1 1 31.597715 18.358857 287.707429 287.707429 0 0 1-63.268572 76.617143c-45.714286 38.4-92.050286 52.772571-126.537143 54.052572l-6.582857 0.109714a18.285714 18.285714 0 0 1-17.444571-13.897143c-10.313143-41.545143 4.937143-83.712 35.730286-124.050286 8.228571-10.752 16.969143-20.589714 25.746285-29.330285l5.851429-5.632c2.596571-2.486857 4.754286-4.388571 6.290286-5.668572zM696.137143 384c9.581714 0.146286 22.016 1.097143 36.425143 3.181714 27.209143 4.022857 54.235429 11.446857 79.652571 23.222857 31.817143 14.738286 59.026286 35.364571 80.018286 62.756572a18.285714 18.285714 0 0 1 1.938286 19.090286l-33.828572 71.058285a9679.616 9679.616 0 0 0-56.429714 121.892572l-18.066286 40.082285-14.445714 32.548572c-48.822857 110.848-81.188571 193.243429-90.185143 233.325714a18.285714 18.285714 0 0 1-13.531429 13.787429l-3.84 0.512-2.084571 0.109714a183.808 183.808 0 0 1-53.76-5.485714c-12.434286-3.291429-23.588571-8.045714-33.170286-14.555429a18.285714 18.285714 0 1 1 20.626286-30.208c5.778286 3.949714 13.202286 7.094857 21.906286 9.398857 8.630857 2.267429 17.700571 3.584 26.331428 4.132572l5.412572 0.182857 0.914285-3.181714 4.534858-14.921143c11.812571-36.937143 32-88.356571 59.099428-151.881143l24.283429-55.954286 14.555428-32.731428a8755.968 8755.968 0 0 1 55.661715-121.856l25.673142-54.674286 22.308572-46.957714-6.802286-7.314286a176.566857 176.566857 0 0 0-42.678857-31.122286l-9.837714-4.864a254.317714 254.317714 0 0 0-81.590857-21.979428l-9.289143-0.694858-0.109715 0.694858c-1.755429 9.874286-3.949714 20.553143-6.582857 31.890285l-2.779428 11.556572a670.72 670.72 0 0 1-47.177143 131.986285 468.443429 468.443429 0 0 1-46.701714 77.056 18.285714 18.285714 0 0 1-29.184-22.016c16.018286-21.211429 30.354286-45.056 43.044571-71.094857a634.843429 634.843429 0 0 0 44.544-124.708571c2.779429-11.190857 5.12-21.796571 7.058286-31.597714l3.108571-17.298286c0.548571-3.328 0.914286-5.851429 1.097143-7.387429a18.285714 18.285714 0 0 1 14.336-15.542857l3.291429-0.402286h6.217142zM572.489143 645.12a18.285714 18.285714 0 0 1 25.856 0.512l2.998857 2.852571c2.011429 1.828571 4.827429 4.205714 8.411429 6.985143 10.166857 8.045714 22.454857 16.091429 36.827428 23.698286 34.816 18.358857 75.702857 30.683429 122.733714 34.011429a18.285714 18.285714 0 0 1-2.633142 36.498285c-52.224-3.730286-98.011429-17.517714-137.142858-38.180571-28.233143-14.848-47.433143-29.952-57.6-40.557714a18.285714 18.285714 0 0 1 0.548572-25.856zM924.16 574.793143c33.133714 8.411429 59.977143 23.442286 77.824 46.811428a18.285714 18.285714 0 0 1-2.267429 24.649143c-4.973714 4.498286-13.897143 10.422857-26.953142 16.018286-43.008 18.578286-100.864 20.845714-173.750858-2.413714a18.285714 18.285714 0 0 1 11.117715-34.852572c60.781714 19.419429 107.556571 18.870857 141.897143 6.217143l5.522285-2.230857-5.229714-3.584a122.002286 122.002286 0 0 0-28.781714-12.8l-8.374857-2.377143a244.224 244.224 0 0 0-64.256-6.802286l-10.093715 0.402286-5.193143 0.365714a18.285714 18.285714 0 0 1-3.766857-36.352l6.838857-0.512a284.708571 284.708571 0 0 1 85.504 7.460572zM889.709714 644.608a18.285714 18.285714 0 0 1 25.819429 1.536c6.948571 7.862857 16.969143 21.467429 26.88 39.716571 20.809143 38.253714 31.158857 79.36 25.014857 121.344a18.285714 18.285714 0 0 1-20.114286 15.542858c-26.88-3.035429-65.462857-17.517714-103.643428-52.004572a258.816 258.816 0 0 1-55.259429-72.045714 18.285714 18.285714 0 1 1 32.329143-17.042286c13.275429 25.088 29.257143 45.531429 47.433143 61.915429 18.651429 16.822857 38.546286 28.525714 58.404571 35.986285l5.924572 2.084572-0.036572-4.608c-1.024-22.125714-7.497143-44.251429-18.029714-65.682286l-4.132571-8.045714a216.137143 216.137143 0 0 0-15.542858-24.502857l-4.022857-5.266286a76.141714 76.141714 0 0 0-2.56-3.108571 18.285714 18.285714 0 0 1 1.536-25.819429z',
  'path://M501.261051 950.379085C370.416607 876.92549 342.139482 749.762092 342.139482 655.895425c0-78.473203 18.070588-148.078431 37.647059-221.866667 4.350327-16.732026 8.867974-33.464052 13.050981-50.196078a1896.742484 1896.742484 0 0 1 78.640522-225.882353A1139.11634 1139.11634 0 0 0 526.19177 0l33.464052 6.52549a1129.746405 1129.746405 0 0 1-56.888889 163.973856A1877.500654 1877.500654 0 0 0 425.799613 392.198693c-4.183007 16.732026-8.700654 33.464052-13.05098 50.196078C393.172162 514.175163 375.603535 581.772549 375.603535 655.728105c0 84.998693 25.265359 199.947712 142.054902 265.369934zM517.658437 950.379085l-16.732027-29.113726C596.131639 868.057516 643.315953 778.708497 643.315953 655.895425c0-71.613072-17.735948-139.377778-37.981699-217.51634-3.848366-14.891503-7.696732-30.117647-11.712419-45.845752-7.696732-30.619608-15.226144-57.39085-22.420915-83.66013A956.402614 956.402614 0 0 1 526.19177 3.346405h33.464052a928.29281 928.29281 0 0 0 43.837909 296.826144c7.362092 25.934641 14.891503 52.873203 22.588235 83.660131q5.856209 23.424837 11.712418 45.678431c20.747712 80.648366 38.65098 150.588235 38.985621 226.049673 0 134.19085-54.379085 236.088889-159.121568 294.818301zM526.19177 722.823529H492.727718v-133.856209c2.342484-338.488889 10.541176-403.911111 30.452287-562.196078L526.19177 1.171242l33.464052 4.183006-3.346405 25.43268C536.565626 187.733333 528.534254 252.653595 526.19177 588.96732zM492.727718 756.287582h33.464052v33.464052H492.727718zM492.727718 823.215686h33.464052v200.784314H492.727718z',
  'path://M827.1 653.4c0-99.4-40.2-157.1-103.8-208.2-0.6-0.7-1.3-1.3-2.1-1.9-0.8-0.6-79.6-61.6-79.6-131.5 0-96.5 29.6-149.3 90.5-161.3 2.4-1 3.3-1.3 4.1-1.8 0.9-0.5 1.8-1.1 2.5-1.8 0.7-0.6 1.4-1.2 2-1.9 0.7-0.8 1.3-1.7 1.8-2.6 0.4-0.8 0.9-1.6 1.2-2.4 0.4-1.1 0.5-2.2 0.7-3.3 0.1-0.5 0.2-6.3 0.4-17.6 0-8.6-7.1-15.7-15.7-15.7H290.9c-8.6 0-15.7 7.1-15.7 15.7v15.7c0.5 3 0.7 4.1 1.1 5.2 0.3 0.9 0.8 1.6 1.2 2.4 0.5 0.9 1.1 1.8 1.8 2.6 0.6 0.7 1.3 1.3 2 1.9 0.8 0.7 1.7 1.3 2.5 1.8 0.8 0.4 1.7 0.8 2.5 1.1 62.5 12.7 92.1 65.5 92.1 162 0 69.7-78.8 131-79.6 131.5-0.7 0.6-1.4 1.2-2 1.9-63.6 51-100 126.8-100 208.2 0 95.4 51.1 183.6 133.6 231.3l-6.5 13.1c-2.4 4.9-2.2 10.6 0.7 15.3 2.8 4.7 7.9 7.5 13.3 7.5h344.2c5.4 0 10.5-2.8 13.3-7.5 2.8-4.6 3.1-10.4 0.7-15.3l-6.5-13.1c73.1-50.5 137.5-115.2 137.5-231.3zM298.2 509.8c4.1-5.4 8.5-10.6 13-15.7 9-10 18.6-19.5 29.5-28.1 0.7-0.5 1.3-1.1 1.8-1.7 0.6-0.4 1.4-1.1 2.1-1.7 2.8-2.4 6.8-5.7 11.7-10.2 1.9-1.7 3.8-3.5 5.8-5.5 27.2-26.5 70.3-77.7 70.3-137.4 0-75.3-17.4-129.1-52.1-161H642c-34.7 31.9-52.1 85.7-52.1 161 0 59.7 43 110.9 70.3 137.4 2.1 2 4 3.8 5.8 5.5 4.9 4.5 8.8 7.9 11.7 10.2 0.7 0.6 1.5 1.2 2.1 1.7 0.6 0.6 1.2 1.2 1.9 1.7 10.8 8.5 20.5 18.1 29.5 28.1 4.6 5.1 9 10.3 13 15.7 3.9 5.1 7.8 10.3 11.3 15.7H286.9c3.4-5.4 7.3-10.6 11.3-15.7z m-37.1 221c-9.3-25.2-14.1-51.8-14.1-79s4.8-53.8 14.1-79h497.8c9.3 25.2 14.1 51.8 14.1 79s-4.8 53.8-14.1 79H261.1z m463.2 61.7c-4.1 5.4-8.4 10.6-12.9 15.7-16.5 18.5-35.9 34.5-57.8 47.1h-285c-21.9-12.7-41.4-28.7-57.8-47.1-4.5-5.1-8.8-10.3-12.8-15.7-3.8-5.1-7.4-10.3-10.8-15.7h447.9c-3.5 5.4-7 10.6-10.8 15.7z',
];
                        const scoremax = 1;
                        const labelSetting = {
                          show: true,
                          position: 'top',
                          offset: [0, -20],
                          formatter: function (param) {
                            return ((param.value / scoremax) * 100).toFixed(0) + '%';
                          },
                          fontSize: 18,
                          fontFamily: 'Arial'
                        };
                        const markLineSetting = {
                          symbol: 'none',
                          lineStyle: {
                            opacity: 0.3
                          },
                          data: [
                            {
                              type: 'max',
                              label: {
                                formatter: 'max: {c}',
                                  textStyle:{
                                    color:'#274B58'
                                  },
                              }
                            },
                            {
                              type: 'min',
                              label: {
                                formatter: 'min: {c}',
                                  textStyle:{
                                    color:'#274B58'
                                  },
                              }
                            }
                          ]
                        };
                        const markLineSetting2 = {
                          symbol: 'none',
                          lineStyle: {
                            opacity: 0.3
                          },
                          data: [
                            {
                              yAxis:data['databert'][0].threshold,
                              label:{
                                formatter:'BERT阈值:{c}',
                                  textStyle:{
                                    color:'#274B58'
                                  },
                              }
                            },
                          ]
                        };
                        var option1 = {
                          tooltip: {},
                          legend: {
                            data: ['情感词典', 'BERT模型'],
                            // selectedMode: 'single'
                          },
                            toolbox: {
                            show: true,
                            feature: {
                              mark: { show: true },
                              dataView: { show: true, readOnly: false },
                              restore: { show: true },
                              saveAsImage: { show: true }
                            }
                          },
                          xAxis: {
                            data: ['积极度', '消极度','BERT评分'],
                            axisTick: { show: false },
                            axisLine: { show: false },
                            axisLabel: { show: true }
                          },
                          yAxis: {
                            max: 1,
                            offset: 20,
                            splitLine: { show: false }
                          },
                          grid: {
                            top: 'center',
                            height: 230
                          },
                          markLine: {
                            z: -100
                          },
                            color:['#f1939c','#8fb2c9'],
                          series: [
                            {
                              name: '情感词典',
                              type: 'pictorialBar',
                              symbolClip: true,
                              symbolBoundingData: scoremax,
                              label: labelSetting,
                              data: [
                                {
                                  value: data['sentiment_dic'][0].pos,
                                  symbol: symbols[0]
                                },
                                {
                                  value: data['sentiment_dic'][0].neg,
                                  symbol: symbols[1]
                                }
                              ],
                                itemStyle:{
                                   color: function(params) {

                            // build a color map as your need.

                            var colorList = [

                              '#f1939c','#BDE5CE'

                            ];

                                    return colorList[params.dataIndex]

                            }
                                },
                              markLine: markLineSetting,
                              z: 10
                            },
                            {
                              name: 'BERT模型',
                              type: 'pictorialBar',
                              symbolClip: true,
                              symbolBoundingData: scoremax,
                              label: labelSetting,
                                color:'#8fb2c9',
                              data: [
                                {
                                  symbol: symbols[0]
                                },
                                {
                                  symbol: symbols[1]
                                },
                                {
                                  value: data['databert'][0].pred,
                                  symbol: symbols[2]
                                }
                              ],
                              markLine: markLineSetting2,
                              z: 10
                            },
                            {
                              name: 'full',
                              type: 'pictorialBar',
                              symbolBoundingData: scoremax,
                              animationDuration: 0,
                              itemStyle: {
                                color: '#ccc'
                              },
                              data: [
                                {
                                  value: 1,
                                  symbol: symbols[0]
                                },
                                {
                                  value: 1,
                                  symbol: symbols[1]
                                },
                                {
                                  value: 1,
                                  symbol: symbols[2]
                                }
                              ]
                            }
                          ],
                        };
                        sentimentdata.setOption(option1)
                        function getLevelOption() {
                            return [
                              {
                                itemStyle: {
                                  borderColor: '#777',
                                  borderWidth: 0,
                                  gapWidth: 1
                                },
                                upperLabel: {
                                  show: false
                                }
                              },
                              {
                                itemStyle: {
                                  borderColor: '#555',
                                  borderWidth: 5,
                                  gapWidth: 1
                                },
                                emphasis: {
                                  itemStyle: {
                                    borderColor: '#ddd'
                                  }
                                }
                              },
                              {
                                colorSaturation: [0.35, 0.5],
                                itemStyle: {
                                  borderWidth: 5,
                                  gapWidth: 1,
                                  borderColorSaturation: 0.6
                                }
                              }
                            ];
                          }
                        var option2 = {
                              title: {
                                text: '词性统计',
                                left: 'center'
                              },
                              tooltip: {
                              },
                                toolbox: {
                            show: true,
                            feature: {
                              mark: { show: true },
                              dataView: { show: true, readOnly: false },
                              restore: { show: true },
                              saveAsImage: { show: true }
                            }
                          },
                            roam:true,
                            scaleLimit:{
                              max:3,
                              min:0.7
                            },
                             color:[

                                          '#f1939c','#BDE5CE','#F2D58F','#3A727F',
                                            '#962832','#db5858','#ad6598','#74759b',
                                            '#93b5cf','#6e8b74','#ebb10d','#f9d27d',
                                            '#648e93','#bf3553'

                                        ],
                              series: [
                                {
                                  name: '词性统计',
                                  type: 'treemap',
                                  visibleMin: 300,
                                  label: {
                                    show: true,
                                    formatter: '{b}'
                                  },
                                  upperLabel: {
                                    show: true,
                                    height: 30
                                  },
                                   // color:this.color,
                                  itemStyle: {
                                    borderColor: '#fff',
                                  },
                                  levels: getLevelOption(),
                                  data: data.treedata
                                }
                              ]
                            }
                        keywordsenti.setOption(option2)
                    },
                    error:function(){
                        console.log();
                        hiddenLoad();
                        alert("出现错误");
                    },
                    complete:function () {
                        //完成以后隐藏load动画
                        hiddenLoad();
                    }
                })
            }
        </script>
    <style>
        @font-face{

            font-family:'yanye';

            src:url("../static/fonts/yanye.ttf");

        }
        body{background-color:#F9ECD1;
            background-image:url('../static/img/senti/sentibg2.png'),url('../static/img/senti/bg4.png'),url('../static/img/senti/sentibg3.png');
            background-repeat:no-repeat,no-repeat;
            background-position:right bottom,right top,left bottom;
            background-size: 300px 600px,170px 300px,200px 400px;
        }
        .card-title{
            font-family:'yanye';
            color:#274B58;
            font-weight:100;
            margin-left:20px;
        }
        #similarcard{
            margin-left:440px
        }
        .iq-card{
            background-color: rgba(249, 236, 209, 0);
            {#background-color:#fff;#}
        }
       #sentimentheader{
            margin-left:650px;
        }
       #analysisheader{
           margin-left:250px;
       }
       #sentence_search{
           background-color:rgba(249, 236, 209, 0)
       }
    </style>
</head>
<body>
    <div id="loading" style="background: #fff url(../static/img/loaderbut.gif) no-repeat scroll center center; height: 100%; width: 100%; background-size: 10%; position: fixed; margin-top: 0px; top: 0px; left: 0px; bottom: 0px; overflow: hidden !important; right: 0px; z-index: 999999;">
         <!--<div id="loading-center">
         </div>-->
      </div>

      <!-- loader END -->
      <!-- Wrapper Start -->
    <div class="wrapper">
        <div class="container-fluid  p-4">
            <div class="row">
                <div class="col-sm-12 col-lg-12 ">
                        <div class="iq-card" style="border-radius:0px; height:100px">
                            <div class="iq-card-header d-flex justify-content-between" style="border-radius:0px; height:30px;margin-top:5px">
                                <div class="iq-header-title" style="margin-top:5px;">
                                        <h4 class="card-title" id="sentimentheader" style="text-align: center;font-weight:300;">情感分析搜索框</h4>
                                </div>
                            </div>
                            <div class="iq-search-bar " style="width: 100%; height:30px;margin-top:5px;margin-bottom:5px">
                                    <form action="#" class="searchbox" style="width:100%;margin-left:0px;border-radius:0px;border-bottom:1px solid #6FB1B4">
                                        <input type="text" class="text search-input" id="sentence_search" placeholder="请输入一句话...">
                                        <a class="search-link" style="margin-right:10px" onclick="sentimentsearch()"><i class="ri-search-line"></i></a>
                                    </form>
                                </div>
                        </div>
                </div>
            </div>
            <div class="row p-2">
                <div class="col-sm-12 col-lg-5 p-2">
                        <div class="iq-card">
                            <div class="iq-card-header d-flex justify-content-between">
                                <div class="iq-header-title">
                                        <h4 class="card-title" id="analysisheader">基于情感词典和BERT的情感分析</h4>
                                </div>
                            </div>
                            <div class="iq-card-body">
                                <div id="sentimentana" style="width:100%; height:220px"></div>
                            </div>
                            <div class="iq-card-body">
                                <div id="result_sen" style="width:100%; height:110px">
                                    <div class="row">
                                        <div class="col-lg-6">
                                        <div class="col-12"><p>情感词典</p></div>
                                            <div class="row">
                                                <div class="col-6">积极度:</div>
                                                <div class="col-6" id="pos">无</div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">消极度:</div>
                                                <div class="col-6" id="neg">无</div>
                                            </div>
                                            <div class="row">
                                                <div class="col-6">可能性判断:</div>
                                                <div class="col-6" id="pflag">无</div>
                                            </div>
                                    </div>
                                    <div class="col-lg-6">
                                        <div class="col-12"><p>BERT情感分析</p></div>
                                        <div class="row">
                                            <div class="col-3">评分:</div>
                                            <div class="col-9" id="score">无</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-3">阈值:</div>
                                            <div class="col-9" id="threshold">无</div>
                                        </div>
                                        <div class="row">
                                            <div class="col-6">可能性判断:</div>
                                            <div class="col-6" id="flag">无</div>
                                        </div>
                                    </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                </div>
                <div class="col-sm-12 col-lg-7 p-2 justify-content-between">
                    <div class="iq-card">
                            <div class="iq-card-header d-flex justify-content-between">
                               <div class="iq-header-title">
                                  <h4 class="card-title">词频分析</h4>
                               </div>
                            </div>
                            <div class="iq-card-body">
                               <div id="keyword-result" style="width:100%; height:370px;"></div>
                            </div>
                    </div>
                </div>
            </div>

        </div>

    </div>
      <!-- Wrapper END -->
    <svg width="0" height="0">
        <defs>
            <filter id="goo">
                <feGaussianBlur in="SourceGraphic" stdDeviation="10" result="blur"></feGaussianBlur>
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 19 -9" result="goo"></feColorMatrix>
                <feComposite in="SourceGraphic" in2="goo" operator="atop"></feComposite>
            </filter>
        </defs>
    </svg>
     <div class="aside-nav bounceInUp animated" id="aside-nav">
        <label for="" class="aside-menu" title="按住拖动">菜单</label>

        <a href="/" title="返回首页" class="menu-item menu-first">首页</a>
        <a href="/wordsimilar" title="上一页" class="menu-item menu-second">上一页</a>
        <a href="/Tangnet" title="下一页" class="menu-item menu-third">下一页</a>
        <!--<a href="javascript:void(0)" title="词分析" class="menu-item menu-line menu-fourth">词分析</a> -->
    </div>
    <script src="../static/js/asidenav.js"></script>
</body>
</html>